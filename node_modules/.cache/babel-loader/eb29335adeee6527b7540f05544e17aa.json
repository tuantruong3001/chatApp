{"remainingRequest":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\src\\components\\Chat.vue?vue&type=template&id=2bc3d388","dependencies":[{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\src\\components\\Chat.vue","mtime":1709883760867},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709867558250},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\babel-loader\\lib\\index.js","mtime":1709867558242},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1709867605321},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709867558250},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1709867605321}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCB3aXRoTW9kaWZpZXJzIGFzIF93aXRoTW9kaWZpZXJzLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udGFpbmVyLXNtIG10LTIwIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIm14LTUiCn07CnZhciBfaG9pc3RlZF8zID0gewogIHJlZjogImJvdHRvbSIsCiAgY2xhc3M6ICJtdC0yMCIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJib3R0b20iCn07CnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAiY29udGFpbmVyLXNtIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICB0eXBlOiAic3VibWl0Igp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X01lc3NhZ2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTWVzc2FnZSIpOwoKICB2YXIgX2NvbXBvbmVudF9TZW5kSWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJTZW5kSWNvbiIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5tZXNzYWdlcywgZnVuY3Rpb24gKF9yZWYpIHsKICAgIHZhciBfJHNldHVwJHVzZXI7CgogICAgdmFyIGlkID0gX3JlZi5pZCwKICAgICAgICB0ZXh0ID0gX3JlZi50ZXh0LAogICAgICAgIHVzZXJQaG90b1VSTCA9IF9yZWYudXNlclBob3RvVVJMLAogICAgICAgIHVzZXJOYW1lID0gX3JlZi51c2VyTmFtZSwKICAgICAgICB1c2VySWQgPSBfcmVmLnVzZXJJZDsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X01lc3NhZ2UsIHsKICAgICAga2V5OiBpZCwKICAgICAgbmFtZTogdXNlck5hbWUsCiAgICAgICJwaG90by11cmwiOiB1c2VyUGhvdG9VUkwsCiAgICAgIHNlbmRlcjogdXNlcklkID09PSAoKF8kc2V0dXAkdXNlciA9ICRzZXR1cC51c2VyKSA9PT0gbnVsbCB8fCBfJHNldHVwJHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8kc2V0dXAkdXNlci51aWQpCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyh0ZXh0KSwgMQogICAgICAgIC8qIFRFWFQgKi8KICAgICAgICApXTsKICAgICAgfSksCiAgICAgIF86IDIKICAgICAgLyogRFlOQU1JQyAqLwoKICAgIH0sIDEwMzIKICAgIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovCiAgICAsIFsibmFtZSIsICJwaG90by11cmwiLCAic2VuZGVyIl0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBbJHNldHVwLmlzTG9naW4gPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImZvcm0iLCB7CiAgICBrZXk6IDAsCiAgICBvblN1Ym1pdDogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuc2VuZCAmJiAkc2V0dXAuc2VuZC5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9LCBbInByZXZlbnQiXSkpCiAgfSwgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5tZXNzYWdlID0gJGV2ZW50OwogICAgfSksCiAgICBwbGFjZWhvbGRlcjogIk1lc3NhZ2UiLAogICAgcmVxdWlyZWQ6ICIiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5tZXNzYWdlXV0pLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZW5kSWNvbildKV0sIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\src\\components\\Chat.vue"],"names":[],"mappings":";;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AAaR,EAAA,GAAG,EAAC,Q;AAAS,EAAA,KAAK,EAAC;;;AAEnB,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AAGC,EAAA,IAAI,EAAC;;;;;;;sDApBnB,YAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,YAAA,CAUM,KAVN,EAAA,UAAA,EAUM,E,kBATJ,YAAA,CAQU,SARV,EAQU,IARV,EAQU,WAAA,CAP+C,MAAA,CAAA,QAO/C,EAPuD,gBAAd;AAAA;;AAAA,QAAxC,EAAwC,QAAxC,EAAwC;AAAA,QAApC,IAAoC,QAApC,IAAoC;AAAA,QAA9B,YAA8B,QAA9B,YAA8B;AAAA,QAAhB,QAAgB,QAAhB,QAAgB;AAAA,QAAN,MAAM,QAAN,MAAM;yBADnD,YAAA,CAQU,kBARV,EAQU;AANP,MAAA,GAAG,EAAE,EAME;AALP,MAAA,IAAI,EAAE,QAKC;AAJP,mBAAW,YAIJ;AAHP,MAAA,MAAM,EAAE,MAAM,sBAAK,MAAA,CAAA,IAAL,iDAAK,aAAM,GAAX;AAGP,KARV,E;wBAOE;AAAA,eAAU,C,kCAAP,I,GAAI;AAAA;SAAG,CAAV;AAAA,O;;;;KAPF,E;;AAAA,M,+BAAA,C;GAQU,CARV,E;;AAAA,GASI,EAVN,CAWI,CAZN,C,EAcA,YAAA,CAAkC,KAAlC,EAAA,UAAA,EAAkC,IAAlC,EAAkC;AAAA;AAAlC,G,EAEA,YAAA,CASM,KATN,EAAA,UAAA,EASM,CARJ,YAAA,CAOM,KAPN,EAAA,UAAA,EAOM,CANQ,MAAA,CAAA,O,kBAAZ,YAAA,CAKO,MALP,EAKO;UAAA;AALe,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,cAAA,CAAA;AAAA,aAAU,MAAA,CAAA,IAAA,IAAA,MAAA,CAAA,IAAA,OAAA,MAAA,YAAV;AAAA,KAAA,EAAc,CAAA,SAAA,CAAd,CAAA;AAKrB,GALP,E,iBACE,YAAA,CAA0D,OAA1D,EAA0D;;aAA1C,MAAA,CAAA,OAAA,GAAO,M;MAAmC;AAAjC,IAAA,WAAW,EAAC,SAAqB;AAAX,IAAA,QAAQ,EAAR;AAAW,GAA1D,E,IAAA,E;;AAAA,G,iBAAgB,MAAA,CAAA,O,KAChB,YAAA,CAES,QAFT,EAAA,UAAA,EAES,CADP,YAAA,CAAY,mBAAZ,CACO,CAFT,C,CAFF,E;;AAAA,G,qCAMI,CAPN,CAQI,CATN,C","sourcesContent":["<template>\r\n  <div class=\"container-sm mt-20\">\r\n    <div class=\"mx-5\">\r\n      <Message\r\n        v-for=\"{ id, text, userPhotoURL, userName, userId } in messages\"\r\n        :key=\"id\"\r\n        :name=\"userName\"\r\n        :photo-url=\"userPhotoURL\"\r\n        :sender=\"userId === user?.uid\"\r\n      >\r\n        {{ text }}\r\n      </Message>\r\n    </div>\r\n  </div>\r\n\r\n  <div ref=\"bottom\" class=\"mt-20\" />\r\n\r\n  <div class=\"bottom\">\r\n    <div class=\"container-sm\">\r\n      <form v-if=\"isLogin\" @submit.prevent=\"send\">\r\n        <input v-model=\"message\" placeholder=\"Message\" required />\r\n        <button type=\"submit\">\r\n          <SendIcon />\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch, nextTick } from 'vue'\r\nimport { useAuth, useChat } from '@/firebase'\r\n\r\nimport SendIcon from './SendIcon.vue'\r\nimport Message from './Message.vue'\r\n\r\nexport default {\r\n  components: { Message, SendIcon },\r\n  setup() {\r\n    const { user, isLogin } = useAuth()\r\n    const { messages, sendMessage } = useChat()\r\n\r\n    const bottom = ref(null)\r\n    watch(\r\n      messages,\r\n      () => {\r\n        nextTick(() => {\r\n          bottom.value?.scrollIntoView({ behavior: 'smooth' })\r\n        })\r\n      },\r\n      { deep: true }\r\n    )\r\n\r\n    const message = ref('')\r\n    const send = () => {\r\n      sendMessage(message.value)\r\n      message.value = ''\r\n    }\r\n\r\n    return { user, isLogin, messages, bottom, message, send }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}