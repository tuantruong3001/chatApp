{"remainingRequest":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\src\\components\\Chat.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\src\\components\\Chat.vue","mtime":1709883760867},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709867558250},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\node_modules\\babel-loader\\lib\\index.js","mtime":1709867558242},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709867558250},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1709867605321}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCB3YXRjaCwgbmV4dFRpY2sgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VBdXRoLCB1c2VDaGF0IH0gZnJvbSAnQC9maXJlYmFzZSc7CmltcG9ydCBTZW5kSWNvbiBmcm9tICcuL1NlbmRJY29uLnZ1ZSc7CmltcG9ydCBNZXNzYWdlIGZyb20gJy4vTWVzc2FnZS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTWVzc2FnZTogTWVzc2FnZSwKICAgIFNlbmRJY29uOiBTZW5kSWNvbgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VBdXRoID0gdXNlQXV0aCgpLAogICAgICAgIHVzZXIgPSBfdXNlQXV0aC51c2VyLAogICAgICAgIGlzTG9naW4gPSBfdXNlQXV0aC5pc0xvZ2luOwoKICAgIHZhciBfdXNlQ2hhdCA9IHVzZUNoYXQoKSwKICAgICAgICBtZXNzYWdlcyA9IF91c2VDaGF0Lm1lc3NhZ2VzLAogICAgICAgIHNlbmRNZXNzYWdlID0gX3VzZUNoYXQuc2VuZE1lc3NhZ2U7CgogICAgdmFyIGJvdHRvbSA9IHJlZihudWxsKTsKICAgIHdhdGNoKG1lc3NhZ2VzLCBmdW5jdGlvbiAoKSB7CiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2JvdHRvbSR2YWx1ZTsKCiAgICAgICAgKF9ib3R0b20kdmFsdWUgPSBib3R0b20udmFsdWUpID09PSBudWxsIHx8IF9ib3R0b20kdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ib3R0b20kdmFsdWUuc2Nyb2xsSW50b1ZpZXcoewogICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwgewogICAgICBkZWVwOiB0cnVlCiAgICB9KTsKICAgIHZhciBtZXNzYWdlID0gcmVmKCcnKTsKCiAgICB2YXIgc2VuZCA9IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UudmFsdWUpOwogICAgICBtZXNzYWdlLnZhbHVlID0gJyc7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHVzZXIsCiAgICAgIGlzTG9naW46IGlzTG9naW4sCiAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcywKICAgICAgYm90dG9tOiBib3R0b20sCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgIHNlbmQ6IHNlbmQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\appchat\\vue-realtime-chat\\src\\components\\Chat.vue"],"names":[],"mappings":"AA8BA,SAAS,GAAT,EAAc,KAAd,EAAqB,QAArB,QAAqC,KAArC;AACA,SAAS,OAAT,EAAkB,OAAlB,QAAiC,YAAjC;AAEA,OAAO,QAAP,MAAqB,gBAArB;AACA,OAAO,OAAP,MAAoB,eAApB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,OAAO,EAAP,OAAF;AAAW,IAAA,QAAO,EAAP;AAAX,GADC;AAEb,EAAA,KAFa,mBAEL;AAAA,mBACoB,OAAO,EAD3B;AAAA,QACE,IADF,YACE,IADF;AAAA,QACQ,OADR,YACQ,OADR;;AAAA,mBAE4B,OAAO,EAFnC;AAAA,QAEE,QAFF,YAEE,QAFF;AAAA,QAEY,WAFZ,YAEY,WAFZ;;AAIN,QAAM,MAAK,GAAI,GAAG,CAAC,IAAD,CAAlB;AACA,IAAA,KAAK,CACH,QADG,EAEH,YAAM;AACJ,MAAA,QAAQ,CAAC,YAAM;AAAA;;AACb,yBAAA,MAAM,CAAC,KAAP,gEAAc,cAAd,CAA6B;AAAE,UAAA,QAAQ,EAAE;AAAZ,SAA7B;AACD,OAFO,CAAR;AAGD,KANE,EAOH;AAAE,MAAA,IAAI,EAAE;AAAR,KAPG,CAAL;AAUA,QAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;;AACA,QAAM,IAAG,GAAI,SAAP,IAAO,GAAM;AACjB,MAAA,WAAW,CAAC,OAAO,CAAC,KAAT,CAAX;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,EAAhB;AACF,KAHA;;AAKA,WAAO;AAAE,MAAA,IAAI,EAAJ,IAAF;AAAQ,MAAA,OAAO,EAAP,OAAR;AAAiB,MAAA,QAAQ,EAAR,QAAjB;AAA2B,MAAA,MAAM,EAAN,MAA3B;AAAmC,MAAA,OAAO,EAAP,OAAnC;AAA4C,MAAA,IAAG,EAAH;AAA5C,KAAP;AACF;AAxBa,CAAf","sourcesContent":["<template>\r\n  <div class=\"container-sm mt-20\">\r\n    <div class=\"mx-5\">\r\n      <Message\r\n        v-for=\"{ id, text, userPhotoURL, userName, userId } in messages\"\r\n        :key=\"id\"\r\n        :name=\"userName\"\r\n        :photo-url=\"userPhotoURL\"\r\n        :sender=\"userId === user?.uid\"\r\n      >\r\n        {{ text }}\r\n      </Message>\r\n    </div>\r\n  </div>\r\n\r\n  <div ref=\"bottom\" class=\"mt-20\" />\r\n\r\n  <div class=\"bottom\">\r\n    <div class=\"container-sm\">\r\n      <form v-if=\"isLogin\" @submit.prevent=\"send\">\r\n        <input v-model=\"message\" placeholder=\"Message\" required />\r\n        <button type=\"submit\">\r\n          <SendIcon />\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch, nextTick } from 'vue'\r\nimport { useAuth, useChat } from '@/firebase'\r\n\r\nimport SendIcon from './SendIcon.vue'\r\nimport Message from './Message.vue'\r\n\r\nexport default {\r\n  components: { Message, SendIcon },\r\n  setup() {\r\n    const { user, isLogin } = useAuth()\r\n    const { messages, sendMessage } = useChat()\r\n\r\n    const bottom = ref(null)\r\n    watch(\r\n      messages,\r\n      () => {\r\n        nextTick(() => {\r\n          bottom.value?.scrollIntoView({ behavior: 'smooth' })\r\n        })\r\n      },\r\n      { deep: true }\r\n    )\r\n\r\n    const message = ref('')\r\n    const send = () => {\r\n      sendMessage(message.value)\r\n      message.value = ''\r\n    }\r\n\r\n    return { user, isLogin, messages, bottom, message, send }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}