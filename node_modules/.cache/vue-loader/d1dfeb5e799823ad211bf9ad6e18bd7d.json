{"remainingRequest":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\src\\components\\Chat.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\src\\components\\Chat.vue","mtime":1709883760867},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709867558250},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\babel-loader\\lib\\index.js","mtime":1709867558242},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709867558250},{"path":"C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1709867605321}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyByZWYsIHdhdGNoLCBuZXh0VGljayB9IGZyb20gJ3Z1ZScNCmltcG9ydCB7IHVzZUF1dGgsIHVzZUNoYXQgfSBmcm9tICdAL2ZpcmViYXNlJw0KDQppbXBvcnQgU2VuZEljb24gZnJvbSAnLi9TZW5kSWNvbi52dWUnDQppbXBvcnQgTWVzc2FnZSBmcm9tICcuL01lc3NhZ2UudnVlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsgTWVzc2FnZSwgU2VuZEljb24gfSwNCiAgc2V0dXAoKSB7DQogICAgY29uc3QgeyB1c2VyLCBpc0xvZ2luIH0gPSB1c2VBdXRoKCkNCiAgICBjb25zdCB7IG1lc3NhZ2VzLCBzZW5kTWVzc2FnZSB9ID0gdXNlQ2hhdCgpDQoNCiAgICBjb25zdCBib3R0b20gPSByZWYobnVsbCkNCiAgICB3YXRjaCgNCiAgICAgIG1lc3NhZ2VzLA0KICAgICAgKCkgPT4gew0KICAgICAgICBuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgYm90dG9tLnZhbHVlPy5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KQ0KICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIHsgZGVlcDogdHJ1ZSB9DQogICAgKQ0KDQogICAgY29uc3QgbWVzc2FnZSA9IHJlZignJykNCiAgICBjb25zdCBzZW5kID0gKCkgPT4gew0KICAgICAgc2VuZE1lc3NhZ2UobWVzc2FnZS52YWx1ZSkNCiAgICAgIG1lc3NhZ2UudmFsdWUgPSAnJw0KICAgIH0NCg0KICAgIHJldHVybiB7IHVzZXIsIGlzTG9naW4sIG1lc3NhZ2VzLCBib3R0b20sIG1lc3NhZ2UsIHNlbmQgfQ0KICB9DQp9DQo="},{"version":3,"sources":["C:\\Users\\tuantv\\Desktop\\StudyCode\\Intern\\webchat\\chatApp\\src\\components\\Chat.vue"],"names":[],"mappings":"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","file":"C:/Users/tuantv/Desktop/StudyCode/Intern/webchat/chatApp/src/components/Chat.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"container-sm mt-20\">\r\n    <div class=\"mx-5\">\r\n      <Message\r\n        v-for=\"{ id, text, userPhotoURL, userName, userId } in messages\"\r\n        :key=\"id\"\r\n        :name=\"userName\"\r\n        :photo-url=\"userPhotoURL\"\r\n        :sender=\"userId === user?.uid\"\r\n      >\r\n        {{ text }}\r\n      </Message>\r\n    </div>\r\n  </div>\r\n\r\n  <div ref=\"bottom\" class=\"mt-20\" />\r\n\r\n  <div class=\"bottom\">\r\n    <div class=\"container-sm\">\r\n      <form v-if=\"isLogin\" @submit.prevent=\"send\">\r\n        <input v-model=\"message\" placeholder=\"Message\" required />\r\n        <button type=\"submit\">\r\n          <SendIcon />\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch, nextTick } from 'vue'\r\nimport { useAuth, useChat } from '@/firebase'\r\n\r\nimport SendIcon from './SendIcon.vue'\r\nimport Message from './Message.vue'\r\n\r\nexport default {\r\n  components: { Message, SendIcon },\r\n  setup() {\r\n    const { user, isLogin } = useAuth()\r\n    const { messages, sendMessage } = useChat()\r\n\r\n    const bottom = ref(null)\r\n    watch(\r\n      messages,\r\n      () => {\r\n        nextTick(() => {\r\n          bottom.value?.scrollIntoView({ behavior: 'smooth' })\r\n        })\r\n      },\r\n      { deep: true }\r\n    )\r\n\r\n    const message = ref('')\r\n    const send = () => {\r\n      sendMessage(message.value)\r\n      message.value = ''\r\n    }\r\n\r\n    return { user, isLogin, messages, bottom, message, send }\r\n  }\r\n}\r\n</script>\r\n"]}]}